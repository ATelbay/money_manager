{
  "project": "MoneyManager",
  "branchName": "ralph/prd-agent-for-garlic",
  "description": "Create prd-agent.md — a Garlic agent prompt that reads MoneyManager codebase and generates Ralph-ready prd.json",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create prd-agent.md for Garlic",
      "description": "As a developer, I want a Garlic agent prompt that understands the MoneyManager codebase and creates a properly structured prd.json for Ralph, so I can assign tasks to Ralph via Telegram.",
      "acceptanceCriteria": [
        "Создать файл scripts/ralph/prd-agent.md",
        "Промпт описывает агенту как исследовать кодбазу MoneyManager перед созданием stories (модульная структура, слои, паттерны)",
        "Промпт включает точный формат prd.json с примером",
        "Промпт содержит правила декомпозиции stories (размер одной итерации, порядок по зависимостям)",
        "Промпт содержит правила acceptance criteria для Android: './gradlew assembleDebug passes' вместо 'verify in browser'",
        "Промпт указывает куда сохранять файл: scripts/ralph/prd.json",
        "Промпт объясняет как архивировать предыдущий prd.json если branchName изменился",
        "./gradlew assembleDebug passes"
      ],
      "priority": 1,
      "passes": false,
      "notes": "This is a markdown prompt file only — no Kotlin/Gradle changes needed. Save to scripts/ralph/prd-agent.md. The agent will run inside Garlic (Telegram bot) on Google Cloud VM using Gemini 3.1 Pro. It has access to the MoneyManager repo on the VM. The prompt should be self-contained — Garlic passes the user's task description and the agent produces prd.json ready for Ralph."
    },
    {
      "id": "US-002",
      "title": "Update scripts/ralph/CLAUDE.md with prd-agent workflow note",
      "description": "As a developer, I want Ralph's CLAUDE.md to mention that prd.json can be generated by Garlic's prd-agent, so future Ralph iterations understand the context.",
      "acceptanceCriteria": [
        "Добавить секцию '## PRD Generation' в scripts/ralph/CLAUDE.md",
        "Секция объясняет что prd.json может быть создан либо вручную, либо через Garlic prd-agent",
        "Упомянуть что prd-agent.md находится в scripts/ralph/prd-agent.md",
        "./gradlew assembleDebug passes"
      ],
      "priority": 2,
      "passes": false,
      "notes": "Small addition to existing CLAUDE.md file at scripts/ralph/CLAUDE.md"
    }
  ]
}
